
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import $ from"./HDropdown-bxtHxPp5.js";import{_ as L}from"./HTooltip.vue_vue_type_script_setup_true_lang-BWFXeKQn.js";import{d as R,y as B,p as D,B as M,u as N,M as H,I as V,a as O,r as q,J as z,o as d,l as c,g as e,w as l,e as u,f as s,n as m,ae as E,an as F,q as T,F as A,$ as G,c as J,h as U,t as Y,i as h,Y as j,_ as K,z as Q}from"./index-Bon7VqDN.js";import{S as W}from"./sortable.esm-Cw1ESr5Y.js";import{u as X}from"./useTabbar-DACflRXF.js";const Z={class:"h-6 w-6 flex-center cursor-pointer rounded-1 bg-[var(--g-container-bg)] text-lg shadow transition-background-color transition-shadow"},tt={class:"quick-button"},at=["disabled"],st=["disabled"],et=["disabled"],ot=["title","onClick"],nt=["onClick"],it=["onClick"],rt=R({name:"TabbarMoreAction",__name:"moreAction",setup(dt){const P=B(),v=D(),p=M(),i=X(),{t:f}=N(),{generateI18nTitle:w}=H(),k=V(()=>i.getId()),C=O("dropdownTabContainerRef"),_=q(!1);z(()=>C.value,n=>{n&&new W(n.$el,{animation:200,ghostClass:"ghost",draggable:".tab",onStart:()=>{_.value=!0},onEnd:()=>{_.value=!1},onMove:a=>a.dragged.classList.contains("pinned")?a.related.classList.contains("pinned"):!a.related.classList.contains("pinned"),onUpdate:a=>{a.newIndex!==void 0&&a.oldIndex!==void 0&&p.sort(a.newIndex,a.oldIndex)}})});function g(n){switch(n){case"search-tabs":j.emit("global-search-toggle","tab");break;case"other-side":i.closeOtherSide();break;case"left-side":i.closeLeftSide();break;case"right-side":i.closeRightSide();break}}function x(n,a,o){let r;return!n&&a||n&&!o?r=a:n&&o&&(r=o),r}return(n,a)=>{const o=K,r=L,y=$;return d(),c("div",null,[e(y,{placement:"bottom-end","popper-class":"tabbar-dropdown"},{dropdown:l(()=>[u("div",tt,[s(v).settings.toolbar.navSearch?(d(),c("button",{key:0,class:"button",onClick:a[0]||(a[0]=t=>g("search-tabs"))},[e(r,{text:s(f)("app.tabbar.searchTabs")},{default:l(()=>[e(o,{name:"i-ri:search-line"})]),_:1},8,["text"])])):m("",!0),u("button",{class:"button",disabled:!s(i).checkCloseOtherSide(),onClick:a[1]||(a[1]=t=>g("other-side"))},[e(r,{text:s(f)("app.tabbar.closeOtherSide")},{default:l(()=>[e(o,{name:"i-ri:close-fill"})]),_:1},8,["text"])],8,at),u("button",{class:"button",disabled:!s(i).checkCloseLeftSide(),onClick:a[2]||(a[2]=t=>g("left-side"))},[e(r,{text:s(f)("app.tabbar.closeLeftSide")},{default:l(()=>[e(o,{name:"i-ph:arrow-line-left"})]),_:1},8,["text"])],8,st),u("button",{class:"button",disabled:!s(i).checkCloseRightSide(),onClick:a[3]||(a[3]=t=>g("right-side"))},[e(r,{text:s(f)("app.tabbar.closeRightSide")},{default:l(()=>[e(o,{name:"i-ph:arrow-line-right"})]),_:1},8,["text"])],8,et)]),e(s(E),{options:{scrollbars:{autoHide:"leave",autoHideDelay:300}},defer:"",class:"max-h-[300px]"},{default:l(()=>[e(F,{ref_key:"dropdownTabContainerRef",ref:C,name:s(_)?void 0:"dropdown-tab",tag:"div",class:T(["tabs",{dragging:s(_)}])},{default:l(()=>[(d(!0),c(A,null,G(s(p).list,t=>{var I,S;return d(),c("div",{key:t.tabId,class:T(["tab",{actived:t.tabId===s(k),pinned:t.isPermanent||t.isPin}])},[(d(),c("div",{key:t.tabId,class:"title",title:((I=t.customTitleList.find(b=>b.fullPath===t.fullPath))==null?void 0:I.title)||s(w)(t.title),onClick:b=>s(P).push(t.fullPath)},[s(v).settings.tabbar.enableIcon&&x(t.tabId===s(k),t.icon,t.activeIcon)?(d(),J(o,{key:0,name:x(t.tabId===s(k),t.icon,t.activeIcon)},null,8,["name"])):m("",!0),U(" "+Y(((S=t.customTitleList.find(b=>b.fullPath===t.fullPath))==null?void 0:S.title)||s(w)(t.title)),1)],8,ot)),!t.isPermanent&&t.isPin?(d(),c("div",{key:0,class:"action-icon",onClick:h(b=>s(p).unPin(t.tabId),["stop"]),onDblclick:a[4]||(a[4]=h(()=>{},["stop"]))},[e(o,{name:"i-ri:pushpin-2-fill"})],40,nt)):!t.isPermanent&&s(p).list.length>1?(d(),c("div",{key:1,class:"action-icon",onClick:h(b=>s(i).closeById(t.tabId),["stop"]),onDblclick:a[5]||(a[5]=h(()=>{},["stop"]))},[e(o,{name:"i-ri:close-fill"})],40,it)):m("",!0)],2)}),128))]),_:1},8,["name","class"])]),_:1})]),default:l(()=>[u("div",Z,[e(o,{name:"i-ri:arrow-down-s-fill"})])]),_:1})])}}}),ft=Q(rt,[["__scopeId","data-v-f699dff4"]]);export{ft as default};
//# sourceMappingURL=moreAction-Cozgqr3L.js.map
