{"version":3,"file":"panel-X-AfLmoC.js","sources":["../../src/layouts/components/Topbar/Toolbar/Favorites/panel.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport useFavoritesStore from '@/store/modules/favorites'\nimport { OverlayScrollbarsComponent } from 'overlayscrollbars-vue'\nimport Sortable from 'sortablejs'\n\ndefineOptions({\n  name: 'FavoritesPanel',\n})\n\nconst route = useRoute()\nconst router = useRouter()\nconst favoritesStore = useFavoritesStore()\n\nconst { generateI18nTitle } = useMenu()\n\nconst favoritesContainerRef = useTemplateRef('favoritesContainerRef')\n\nwatch(() => favoritesContainerRef.value, (val) => {\n  if (val) {\n    // eslint-disable-next-line no-new\n    new Sortable(val, {\n      animation: 200,\n      ghostClass: 'draggable-ghost',\n      draggable: '.draggable-item',\n      onUpdate: (e) => {\n        if (e.newIndex !== undefined && e.oldIndex !== undefined) {\n          favoritesStore.sort(e.newIndex, e.oldIndex)\n        }\n      },\n    })\n  }\n})\n</script>\n\n<template>\n  <div class=\"favorites-container w-80\">\n    <div class=\"flex items-center justify-between px-4 py-3\">\n      <div class=\"text-sm font-bold\">\n        我的收藏夹\n      </div>\n      <template v-if=\"favoritesStore.canAdd(route.fullPath)\">\n        <SvgIcon v-if=\"!favoritesStore.isAdd(route.fullPath)\" class=\"cursor-pointer text-xl\" name=\"i-mdi:star-plus-outline\" title=\"添加到收藏夹\" @click=\"favoritesStore.add(route)\" />\n        <SvgIcon v-else class=\"cursor-pointer text-xl\" name=\"i-mdi:star-remove\" title=\"从收藏夹删除\" @click=\"favoritesStore.remove(route.fullPath)\" />\n      </template>\n    </div>\n    <OverlayScrollbarsComponent :options=\"{ scrollbars: { autoHide: 'leave', autoHideDelay: 300 } }\" defer class=\"max-h-220px\">\n      <div v-if=\"favoritesStore.list.length > 0\" ref=\"favoritesContainerRef\" class=\"flex flex-wrap items-center justify-between gap-2 px-4 pb-4\">\n        <div v-for=\"item in favoritesStore.list\" :key=\"item.fullPath\" :title=\"generateI18nTitle(item.title)\" class=\"draggable-item relative w-[calc(50%-0.25rem)] flex cursor-pointer items-center gap-1 rounded px-2 py-2 ring-1 ring-stone-3 ring-inset hover-bg-stone-1 dark-ring-stone-7 dark-hover-bg-dark/50\" @click=\"router.push(item.fullPath)\">\n          <SvgIcon v-if=\"item.icon\" :name=\"item.icon\" :size=\"18\" />\n          <div class=\"name flex-1 truncate pe-4\">\n            {{ generateI18nTitle(item.title) }}\n          </div>\n          <div class=\"right-1 h-5 w-6 rounded-full text-stone-3 !absolute dark-text-stone-7 hover-text-stone-7 dark-hover-text-stone-3\">\n            <SvgIcon name=\"i-ep:delete\" :size=\"14\" @click.stop=\"favoritesStore.remove(item.fullPath)\" />\n          </div>\n        </div>\n      </div>\n      <div v-else flex=\"center col\" py-6 text-stone-5>\n        <SvgIcon name=\"i-tabler:mood-empty\" :size=\"40\" />\n        <p m-2 text-base>\n          收藏夹是空的\n        </p>\n        <p v-show=\"favoritesStore.canAdd(route.fullPath)\" m-0 flex-center text-sm op-75>\n          点击右上角\n          <SvgIcon name=\"i-mdi:star-plus-outline\" :size=\"20\" mx-1 text-stone-6 dark-text-stone-4 />\n          将当前页面添加到收藏夹\n        </p>\n      </div>\n    </OverlayScrollbarsComponent>\n  </div>\n</template>\n\n<style scoped>\n.draggable-ghost {\n  opacity: 0;\n}\n\n.name {\n  mask-image: linear-gradient(to right, #000 calc(100% - 80px), transparent);\n}\n</style>\n"],"names":["route","useRoute","router","useRouter","favoritesStore","useFavoritesStore","generateI18nTitle","useMenu","favoritesContainerRef","useTemplateRef","watch","val","Sortable"],"mappings":"yrBASA,MAAMA,EAAQC,IACRC,EAASC,IACTC,EAAiBC,IAEjB,CAAE,kBAAAC,GAAsBC,IAExBC,EAAwBC,EAAe,uBAAuB,EAEpE,OAAAC,EAAM,IAAMF,EAAsB,MAAQG,GAAQ,CAC5CA,GAEF,IAAIC,EAASD,EAAK,CAChB,UAAW,IACX,WAAY,kBACZ,UAAW,kBACX,SAAW,GAAM,CACX,EAAE,WAAa,QAAa,EAAE,WAAa,QAC7CP,EAAe,KAAK,EAAE,SAAU,EAAE,QAAQ,CAE9C,CAAA,CACD,CACH,CACD"}