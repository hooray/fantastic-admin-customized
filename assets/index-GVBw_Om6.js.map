{"version":3,"file":"index-GVBw_Om6.js","sources":["../../node_modules/.pnpm/watermark-js-plus@1.5.7/node_modules/watermark-js-plus/dist/index.esm.js","../../src/store/modules/watermark.ts","../../src/layouts/index.vue"],"sourcesContent":["/*!\n * watermark-js-plus v1.5.7\n * (c) 2022-2024 Michael Sun\n * Released under the MIT License.\n */\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"@keyframes watermark{0%{background-position:0 0}25%{background-position:100% 100%}50%{background-position:0 0}75%{background-position:100% -100%}to{background-position:0 0}}\";\nstyleInject(css_248z);\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\nvar convertImage = function (canvas) {\n    return canvas.toDataURL('image/png', 1);\n};\nvar isFunction = function (value) {\n    return typeof value === 'function';\n};\nvar isUndefined = function (value) {\n    return value === undefined;\n};\nvar isString = function (value) {\n    return typeof value === 'string';\n};\nvar createSVGElement = function (tagName, attrs, namespaceURI) {\n    if (attrs === void 0) { attrs = {}; }\n    if (namespaceURI === void 0) { namespaceURI = 'http://www.w3.org/2000/svg'; }\n    var element = document.createElementNS(namespaceURI, tagName);\n    for (var attr in attrs) {\n        element.setAttribute(attr, attrs[attr]);\n    }\n    return element;\n};\nvar getMultiLineData = function (ctx, text, maxWidth) {\n    var result = [];\n    var str = '';\n    var word = '';\n    for (var i = 0, len = text.length; i < len; i++) {\n        word = text.charAt(i);\n        if (word === '\\n') {\n            result.push(str);\n            str = '';\n            continue;\n        }\n        str += word;\n        if (ctx.measureText(str).width > maxWidth) {\n            result.push(str.substring(0, str.length - 1));\n            str = '';\n            i--;\n        }\n    }\n    result.push(str);\n    return result;\n};\nvar createCustomContentSVG = function (ctx, options) { return __awaiter(void 0, void 0, void 0, function () {\n    var svgElement, bodyElement, rect, rectWidth, rectHeight, width, height, foreignObjectElement;\n    var _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                svgElement = createSVGElement('svg', {\n                    xmlns: 'http://www.w3.org/2000/svg'\n                });\n                bodyElement = document.createElement('div');\n                bodyElement.setAttribute('xmlns', 'http://www.w3.org/1999/xhtml');\n                bodyElement.style.cssText = \"\\n  text-align: center;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  height: 100%;\\n  font: \".concat(ctx.font, \";\\n  color: \").concat(options.fontColor, \";\\n\");\n                bodyElement.innerHTML = \"<div class='rich-text-content'>\".concat(options.content, \"</div>\");\n                document.body.appendChild(bodyElement);\n                // convert all images to base64\n                return [4 /*yield*/, convertImgToBase64(bodyElement)];\n            case 1:\n                // convert all images to base64\n                _b.sent();\n                rect = (_a = bodyElement.querySelector('.rich-text-content')) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n                rectWidth = rect === null || rect === void 0 ? void 0 : rect.width;\n                rectHeight = rect === null || rect === void 0 ? void 0 : rect.height;\n                document.body.removeChild(bodyElement);\n                width = options.richTextWidth || rectWidth || options.width;\n                height = options.richTextHeight || rectHeight || options.height;\n                svgElement.setAttribute('width', width.toString());\n                svgElement.setAttribute('height', height.toString());\n                foreignObjectElement = createSVGElement('foreignObject', {\n                    width: width.toString(),\n                    height: height.toString()\n                });\n                foreignObjectElement.appendChild(bodyElement);\n                svgElement.appendChild(foreignObjectElement);\n                return [2 /*return*/, {\n                        element: svgElement,\n                        width: width,\n                        height: height\n                    }];\n        }\n    });\n}); };\nfunction convertImgToBase64(bodyElement) {\n    return __awaiter(this, void 0, void 0, function () {\n        var imgElements, _loop_1, _i, _a, img;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    imgElements = bodyElement.querySelectorAll('img');\n                    _loop_1 = function (img) {\n                        var src, response, blob_1, imgData, error_1;\n                        return __generator(this, function (_c) {\n                            switch (_c.label) {\n                                case 0:\n                                    src = img.getAttribute('src');\n                                    if (!src) return [3 /*break*/, 6];\n                                    _c.label = 1;\n                                case 1:\n                                    _c.trys.push([1, 5, , 6]);\n                                    return [4 /*yield*/, fetch(src)];\n                                case 2:\n                                    response = _c.sent();\n                                    return [4 /*yield*/, response.blob()];\n                                case 3:\n                                    blob_1 = _c.sent();\n                                    return [4 /*yield*/, new Promise(function (resolve, reject) {\n                                            var reader = new FileReader();\n                                            reader.onloadend = function () { return resolve(reader.result); };\n                                            reader.onerror = reject;\n                                            reader.readAsDataURL(blob_1);\n                                        })];\n                                case 4:\n                                    imgData = _c.sent();\n                                    if (isString(imgData)) {\n                                        img.setAttribute('src', imgData);\n                                    }\n                                    return [3 /*break*/, 6];\n                                case 5:\n                                    error_1 = _c.sent();\n                                    console.error(\"Error converting \".concat(src, \" to base64:\"), error_1);\n                                    return [3 /*break*/, 6];\n                                case 6: return [2 /*return*/];\n                            }\n                        });\n                    };\n                    _i = 0, _a = Array.from(imgElements);\n                    _b.label = 1;\n                case 1:\n                    if (!(_i < _a.length)) return [3 /*break*/, 4];\n                    img = _a[_i];\n                    return [5 /*yield**/, _loop_1(img)];\n                case 2:\n                    _b.sent();\n                    _b.label = 3;\n                case 3:\n                    _i++;\n                    return [3 /*break*/, 1];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\nvar convertSVGToImage = function (svg) {\n    var richContent = svg.outerHTML\n        .replace(/<(img|br|input|hr|embed)(.*?)>/g, '<$1$2/>')\n        .replace(/\\n/g, '').replace(/\\t/g, '')\n        .replace(/#/g, '%23');\n    return \"data:image/svg+xml;charset=utf-8,\".concat(richContent);\n};\nvar getValue = function (v1, v2) {\n    if (isUndefined(v1)) {\n        return v2;\n    }\n    else {\n        return v1;\n    }\n};\nvar loadImage = function (url, width, height) {\n    if (width === void 0) { width = undefined; }\n    if (height === void 0) { height = undefined; }\n    var image = new Image();\n    image.setAttribute('crossOrigin', 'Anonymous');\n    !isUndefined(width) && (image.width = width);\n    !isUndefined(height) && (image.height = height);\n    image.src = url;\n    return new Promise(function (resolve) {\n        image.onload = function () {\n            resolve(image);\n        };\n    });\n};\nvar generateMatrix = function (rows, columns, value) {\n    return Array.from({ length: rows }, function () { return new Array(columns).fill(value); });\n};\n\nvar initialOptions = {\n    width: 300,\n    height: 300,\n    rotate: 45,\n    layout: 'default',\n    auxiliaryLine: false,\n    translatePlacement: 'middle',\n    contentType: 'text',\n    content: 'hello watermark-js-plus',\n    textType: 'fill',\n    imageWidth: 0,\n    imageHeight: 0,\n    lineHeight: 30,\n    zIndex: 2147483647,\n    backgroundPosition: '0 0',\n    backgroundRepeat: 'repeat',\n    fontSize: '20px',\n    fontFamily: 'sans-serif',\n    fontStyle: '',\n    fontVariant: '',\n    fontColor: '#000',\n    fontWeight: 'normal',\n    filter: 'none',\n    letterSpacing: '0px',\n    wordSpacing: '0px',\n    globalAlpha: 0.5,\n    mode: 'default',\n    mutationObserve: true,\n    monitorProtection: false,\n    movable: false,\n    parent: 'body',\n    onSuccess: function () { },\n    onBeforeDestroy: function () { },\n    onDestroyed: function () { },\n    onObserveError: function () { }\n};\nvar generateRecommendOptions = function (canvas, options, args) {\n    var ctx = canvas.getContext('2d');\n    if (ctx === null) {\n        throw new Error('get context error');\n    }\n    ctx.font = \"\".concat(options.fontStyle, \" \").concat(options.fontVariant, \" \").concat(options.fontWeight, \" \").concat(options.fontSize, \" \").concat(options.fontFamily);\n    ctx.filter = options.filter;\n    // @ts-ignore\n    ctx.letterSpacing = options.letterSpacing;\n    ctx.wordSpacing = options.wordSpacing;\n    if (options === null || options === void 0 ? void 0 : options.rotate) {\n        options.rotate = (360 - options.rotate % 360) * (Math.PI / 180);\n    }\n    if (isUndefined(args.textRowMaxWidth)) {\n        options.textRowMaxWidth = options.width;\n    }\n    var result = {\n        image: {\n            rect: {\n                width: options.imageWidth,\n                height: options.imageHeight\n            },\n            position: {\n                x: 0,\n                y: 0\n            }\n        },\n        textLine: {\n            data: [],\n            yOffsetValue: 0\n        },\n        advancedStyleParams: {\n            linear: {\n                x0: 0,\n                x1: 0\n            },\n            radial: {\n                x0: 0,\n                y0: 0,\n                r0: 0,\n                x1: 0,\n                y1: 0,\n                r1: 0\n            },\n            conic: {\n                x: 0,\n                y: 0,\n                startAngle: 0\n            },\n            pattern: {}\n        }\n    };\n    switch (options.contentType) {\n        case 'text':\n            result.textLine.data = [options.content];\n            break;\n        case 'multi-line-text':\n            result.textLine.data = getMultiLineData(ctx, options.content, options.textRowMaxWidth);\n            break;\n        // case 'image':\n        //   break\n        // case 'rich-text':\n        //   break\n    }\n    var translateX = options.width / 2;\n    var translateY = options.height / 2;\n    var textBaseline = 'middle';\n    var textAlign = 'center';\n    if (!isUndefined(args === null || args === void 0 ? void 0 : args.translateX) && !isUndefined(args === null || args === void 0 ? void 0 : args.translateY)) {\n        translateX = args === null || args === void 0 ? void 0 : args.translateX;\n        translateY = args === null || args === void 0 ? void 0 : args.translateY;\n        textBaseline = 'top';\n        textAlign = 'left';\n    }\n    else {\n        // default middle\n        // translateX = options.width / 2\n        // translateY = options.height / 2\n        // TextBaselineType = 'middle'\n        // textAlign = 'center'\n        result.advancedStyleParams.linear.x0 = -options.width / 2;\n        result.advancedStyleParams.linear.x1 = options.width / 2;\n        // result.advancedStyleParams.radial.x0 = 0\n        // result.advancedStyleParams.radial.y0 = 0\n        result.advancedStyleParams.radial.r0 = 0;\n        // result.advancedStyleParams.radial.x1 = 0\n        // result.advancedStyleParams.radial.y1 = 0\n        result.advancedStyleParams.radial.r1 = options.width / 2;\n        // result.advancedStyleParams.conic.x = 0\n        // result.advancedStyleParams.conic.y = 0\n    }\n    switch (args.translatePlacement) {\n        case 'top':\n            translateX = options.width / 2;\n            translateY = 0;\n            textBaseline = 'top';\n            // textAlign = 'center'\n            result.advancedStyleParams.linear.x0 = -options.width / 2;\n            result.advancedStyleParams.linear.x1 = options.width / 2;\n            // result.advancedStyleParams.radial.x0 = 0\n            result.advancedStyleParams.radial.y0 = result.textLine.data.length * options.lineHeight / 2;\n            // result.advancedStyleParams.radial.r0 = 0\n            // result.advancedStyleParams.radial.x1 = 0\n            // result.advancedStyleParams.radial.y1 = 0\n            result.advancedStyleParams.radial.y1 = result.textLine.data.length * options.lineHeight / 2;\n            // result.advancedStyleParams.radial.r1 = options.width / 2\n            // result.advancedStyleParams.conic.x = 0\n            result.advancedStyleParams.conic.y = result.textLine.data.length * options.lineHeight / 2;\n            break;\n        case 'top-start':\n            translateX = 0;\n            translateY = 0;\n            textBaseline = 'top';\n            textAlign = 'start';\n            result.advancedStyleParams.linear.x0 = 0;\n            result.advancedStyleParams.linear.x1 = options.width;\n            result.advancedStyleParams.radial.x0 = options.width / 2;\n            result.advancedStyleParams.radial.y0 = result.textLine.data.length * options.lineHeight / 2;\n            // result.advancedStyleParams.radial.r0 = 0\n            result.advancedStyleParams.radial.x1 = options.width / 2;\n            result.advancedStyleParams.radial.y1 = result.textLine.data.length * options.lineHeight / 2;\n            // result.advancedStyleParams.radial.r1 = options.width / 2\n            result.advancedStyleParams.conic.x = options.width / 2;\n            result.advancedStyleParams.conic.y = result.textLine.data.length * options.lineHeight / 2;\n            break;\n        case 'top-end':\n            translateX = options.width;\n            translateY = 0;\n            textBaseline = 'top';\n            textAlign = 'end';\n            result.advancedStyleParams.linear.x0 = 0;\n            result.advancedStyleParams.linear.x1 = -options.width;\n            result.advancedStyleParams.radial.x0 = -options.width / 2;\n            result.advancedStyleParams.radial.y0 = result.textLine.data.length * options.lineHeight / 2;\n            // result.advancedStyleParams.radial.r0 = 0\n            result.advancedStyleParams.radial.x1 = -options.width / 2;\n            result.advancedStyleParams.radial.y1 = result.textLine.data.length * options.lineHeight / 2;\n            // result.advancedStyleParams.radial.r1 = options.width / 2\n            result.advancedStyleParams.conic.x = -options.width / 2;\n            result.advancedStyleParams.conic.y = result.textLine.data.length * options.lineHeight / 2;\n            break;\n        case 'bottom':\n            translateX = options.width / 2;\n            translateY = options.height;\n            textBaseline = 'bottom';\n            // textAlign = 'center'\n            result.advancedStyleParams.linear.x0 = -options.width / 2;\n            result.advancedStyleParams.linear.x1 = options.width / 2;\n            // result.advancedStyleParams.radial.x0 = 0\n            result.advancedStyleParams.radial.y0 = -result.textLine.data.length * options.lineHeight / 2;\n            // result.advancedStyleParams.radial.r0 = 0\n            // result.advancedStyleParams.radial.x1 = 0\n            result.advancedStyleParams.radial.y1 = -result.textLine.data.length * options.lineHeight / 2;\n            // result.advancedStyleParams.radial.r1 = options.width / 2\n            result.advancedStyleParams.conic.x = 0;\n            result.advancedStyleParams.conic.y = -result.textLine.data.length * options.lineHeight / 2;\n            break;\n        case 'bottom-start':\n            translateX = 0;\n            translateY = options.height;\n            textBaseline = 'bottom';\n            textAlign = 'start';\n            result.advancedStyleParams.linear.x0 = 0;\n            result.advancedStyleParams.linear.x1 = options.width;\n            result.advancedStyleParams.radial.x0 = options.width / 2;\n            result.advancedStyleParams.radial.y0 = -result.textLine.data.length * options.lineHeight / 2;\n            // result.advancedStyleParams.radial.r0 = 0\n            result.advancedStyleParams.radial.x1 = options.width / 2;\n            result.advancedStyleParams.radial.y1 = -result.textLine.data.length * options.lineHeight / 2;\n            // result.advancedStyleParams.radial.r1 = options.width / 2\n            result.advancedStyleParams.conic.x = options.width / 2;\n            result.advancedStyleParams.conic.y = -result.textLine.data.length * options.lineHeight / 2;\n            break;\n        case 'bottom-end':\n            translateX = options.width;\n            translateY = options.height;\n            textBaseline = 'bottom';\n            textAlign = 'end';\n            result.advancedStyleParams.linear.x0 = 0;\n            result.advancedStyleParams.linear.x1 = -options.width;\n            result.advancedStyleParams.radial.x0 = -options.width / 2;\n            result.advancedStyleParams.radial.y0 = -result.textLine.data.length * options.lineHeight / 2;\n            // result.advancedStyleParams.radial.r0 = 0\n            result.advancedStyleParams.radial.x1 = -options.width / 2;\n            result.advancedStyleParams.radial.y1 = -result.textLine.data.length * options.lineHeight / 2;\n            // result.advancedStyleParams.radial.r1 = options.width / 2\n            result.advancedStyleParams.conic.x = -options.width / 2;\n            result.advancedStyleParams.conic.y = -result.textLine.data.length * options.lineHeight / 2;\n            break;\n        case 'left':\n            translateX = 0;\n            translateY = options.height / 2;\n            // TextBaselineType = 'middle'\n            textAlign = 'start';\n            result.advancedStyleParams.linear.x0 = 0;\n            result.advancedStyleParams.linear.x1 = options.width;\n            result.advancedStyleParams.radial.x0 = options.width / 2;\n            // result.advancedStyleParams.radial.y0 = 0\n            // result.advancedStyleParams.radial.r0 = 0\n            result.advancedStyleParams.radial.x1 = options.width / 2;\n            // result.advancedStyleParams.radial.y1 = 0\n            // result.advancedStyleParams.radial.r1 = options.width / 2\n            result.advancedStyleParams.conic.x = options.width / 2;\n            result.advancedStyleParams.conic.y = 0;\n            break;\n        case 'right':\n            translateX = options.width;\n            translateY = options.height / 2;\n            // TextBaselineType = 'middle'\n            textAlign = 'end';\n            result.advancedStyleParams.linear.x0 = 0;\n            result.advancedStyleParams.linear.x1 = -options.width;\n            result.advancedStyleParams.radial.x0 = -options.width / 2;\n            // result.advancedStyleParams.radial.y0 = 0\n            // result.advancedStyleParams.radial.r0 = 0\n            result.advancedStyleParams.radial.x1 = -options.width / 2;\n            // result.advancedStyleParams.radial.y1 = 0\n            // result.advancedStyleParams.radial.r1 = options.width / 2\n            result.advancedStyleParams.conic.x = -options.width / 2;\n            result.advancedStyleParams.conic.y = 0;\n            break;\n    }\n    options.translateX = translateX;\n    options.translateY = translateY;\n    isUndefined(args === null || args === void 0 ? void 0 : args.textBaseline) && (options.textBaseline = textBaseline);\n    isUndefined(args === null || args === void 0 ? void 0 : args.textAlign) && (options.textAlign = textAlign);\n    if (['text', 'multi-line-text'].includes(options.contentType)) {\n        switch (options.textBaseline) {\n            case 'middle':\n                result.textLine.yOffsetValue = (result.textLine.data.length - 1) * options.lineHeight / 2;\n                break;\n            case 'bottom':\n            case 'alphabetic':\n            case 'ideographic':\n                result.textLine.yOffsetValue = (result.textLine.data.length - 1) * options.lineHeight + (options.lineHeight - parseInt(options.fontSize)) / 2;\n                break;\n            case 'top':\n            case 'hanging':\n                result.textLine.yOffsetValue = -options.lineHeight / 2 + parseInt(options.fontSize) / 2;\n                break;\n        }\n    }\n    return result;\n};\n\nvar protection = (function (need) {\n    if (typeof window === 'undefined') {\n        return;\n    }\n    if (need) {\n        Object.defineProperty(window, 'MutationObserver', {\n            writable: false,\n            configurable: false\n        });\n        Object.defineProperty(window, 'requestAnimationFrame', {\n            writable: false,\n            configurable: false\n        });\n    }\n});\n\nvar WatermarkCanvas = /** @class */ (function () {\n    function WatermarkCanvas(args, options) {\n        this.props = args;\n        this.options = options;\n        this.canvas = WatermarkCanvas.createCanvas(this.options.width, this.options.height);\n        this.recommendOptions = generateRecommendOptions(this.canvas, this.options, this.props);\n    }\n    /**\n     * Create an HD canvas.\n     * @param width - width of canvas\n     * @param height - height of canvas\n     */\n    WatermarkCanvas.createCanvas = function (width, height) {\n        var _a;\n        var ratio = window.devicePixelRatio || 1;\n        var canvas = document.createElement('canvas');\n        canvas.width = width * ratio; // actual rendered pixel\n        canvas.height = height * ratio; // actual rendered pixel\n        canvas.style.width = \"\".concat(width, \"px\"); // control display size\n        canvas.style.height = \"\".concat(height, \"px\"); // control display size\n        (_a = canvas.getContext('2d')) === null || _a === void 0 ? void 0 : _a.setTransform(ratio, 0, 0, ratio, 0, 0);\n        return canvas;\n    };\n    /**\n     * Clean the canvas\n     * @param canvas\n     */\n    WatermarkCanvas.clearCanvas = function (canvas) {\n        var ctx = canvas.getContext('2d');\n        if (ctx === null) {\n            throw new Error('get context error');\n        }\n        ctx.restore();\n        ctx.resetTransform();\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        var ratio = window.devicePixelRatio || 1;\n        ctx.setTransform(ratio, 0, 0, ratio, 0, 0);\n    };\n    WatermarkCanvas.prototype.getCanvas = function () {\n        return this.canvas;\n    };\n    WatermarkCanvas.prototype.clear = function () {\n        WatermarkCanvas.clearCanvas(this.canvas);\n    };\n    WatermarkCanvas.prototype.draw = function () {\n        var _this = this;\n        var ctx = this.canvas.getContext('2d');\n        if (ctx === null) {\n            throw new Error('get context error');\n        }\n        if (this.options.auxiliaryLine) {\n            ctx.beginPath();\n            ctx.rect(0, 0, this.options.width, this.options.height);\n            ctx.lineWidth = 1;\n            ctx.strokeStyle = '#000';\n            ctx.stroke();\n            ctx.closePath();\n            ctx.beginPath();\n            ctx.rect(this.options.translateX, this.options.translateY, 1, 1);\n            ctx.lineWidth = 1;\n            ctx.strokeStyle = '#f00';\n            ctx.stroke();\n            ctx.closePath();\n        }\n        this.setStyle(ctx);\n        ctx.save();\n        ctx.translate(this.options.translateX, this.options.translateY);\n        ctx.rotate(this.options.rotate);\n        return new Promise(function (resolve) {\n            switch (_this.options.contentType) {\n                case 'text':\n                    _this.drawText(ctx, resolve);\n                    break;\n                case 'image':\n                    _this.drawImage(ctx, resolve);\n                    break;\n                case 'multi-line-text':\n                    _this.drawMultiLineText(ctx, resolve);\n                    break;\n                case 'rich-text':\n                    _this.drawRichText(ctx, resolve);\n                    break;\n            }\n        });\n    };\n    WatermarkCanvas.prototype.setStyle = function (ctx) {\n        var _a;\n        var propName = 'fillStyle';\n        if (this.options.textType === 'stroke') {\n            propName = 'strokeStyle';\n        }\n        var style = this.options.fontColor;\n        if ((_a = this.options) === null || _a === void 0 ? void 0 : _a.advancedStyle) {\n            switch (this.options.advancedStyle.type) {\n                case 'linear':\n                    style = this.createLinearGradient(ctx);\n                    break;\n                case 'radial':\n                    style = this.createRadialGradient(ctx);\n                    break;\n                case 'conic':\n                    style = this.createConicGradient(ctx);\n                    break;\n                case 'pattern':\n                    style = this.createPattern(ctx);\n                    break;\n            }\n        }\n        ctx[propName] && style && (ctx[propName] = style);\n        this.options.textAlign && (ctx.textAlign = this.options.textAlign);\n        this.options.textBaseline && (ctx.textBaseline = this.options.textBaseline);\n        ctx.globalAlpha = this.options.globalAlpha;\n        if (this.options.shadowStyle) {\n            ctx.shadowBlur = getValue(this.options.shadowStyle.shadowBlur, 0);\n            ctx.shadowColor = getValue(this.options.shadowStyle.shadowColor, '#00000000');\n            ctx.shadowOffsetX = getValue(this.options.shadowStyle.shadowOffsetX, 0);\n            ctx.shadowOffsetY = getValue(this.options.shadowStyle.shadowOffsetY, 0);\n        }\n        if (isFunction(this.options.extraDrawFunc)) {\n            this.options.extraDrawFunc(ctx);\n        }\n    };\n    WatermarkCanvas.prototype.createLinearGradient = function (ctx) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n        var gradient = ctx.createLinearGradient(getValue((_c = (_b = (_a = this.options.advancedStyle) === null || _a === void 0 ? void 0 : _a.params) === null || _b === void 0 ? void 0 : _b.linear) === null || _c === void 0 ? void 0 : _c.x0, this.recommendOptions.advancedStyleParams.linear.x0), getValue((_f = (_e = (_d = this.options.advancedStyle) === null || _d === void 0 ? void 0 : _d.params) === null || _e === void 0 ? void 0 : _e.linear) === null || _f === void 0 ? void 0 : _f.y0, 0), getValue((_j = (_h = (_g = this.options.advancedStyle) === null || _g === void 0 ? void 0 : _g.params) === null || _h === void 0 ? void 0 : _h.linear) === null || _j === void 0 ? void 0 : _j.x1, this.recommendOptions.advancedStyleParams.linear.x1), getValue((_m = (_l = (_k = this.options.advancedStyle) === null || _k === void 0 ? void 0 : _k.params) === null || _l === void 0 ? void 0 : _l.linear) === null || _m === void 0 ? void 0 : _m.y1, 0));\n        (_q = (_p = (_o = this.options) === null || _o === void 0 ? void 0 : _o.advancedStyle) === null || _p === void 0 ? void 0 : _p.colorStops) === null || _q === void 0 ? void 0 : _q.forEach(function (item) {\n            gradient.addColorStop(item.offset, item.color);\n        });\n        return gradient;\n    };\n    WatermarkCanvas.prototype.createConicGradient = function (ctx) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n        var gradient = ctx.createConicGradient(getValue((_d = (_c = (_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.advancedStyle) === null || _b === void 0 ? void 0 : _b.params) === null || _c === void 0 ? void 0 : _c.conic) === null || _d === void 0 ? void 0 : _d.startAngle, 0), getValue((_h = (_g = (_f = (_e = this.options) === null || _e === void 0 ? void 0 : _e.advancedStyle) === null || _f === void 0 ? void 0 : _f.params) === null || _g === void 0 ? void 0 : _g.conic) === null || _h === void 0 ? void 0 : _h.x, this.recommendOptions.advancedStyleParams.conic.x), getValue((_m = (_l = (_k = (_j = this.options) === null || _j === void 0 ? void 0 : _j.advancedStyle) === null || _k === void 0 ? void 0 : _k.params) === null || _l === void 0 ? void 0 : _l.conic) === null || _m === void 0 ? void 0 : _m.y, this.recommendOptions.advancedStyleParams.conic.y));\n        (_q = (_p = (_o = this.options) === null || _o === void 0 ? void 0 : _o.advancedStyle) === null || _p === void 0 ? void 0 : _p.colorStops) === null || _q === void 0 ? void 0 : _q.forEach(function (item) {\n            gradient.addColorStop(item.offset, item.color);\n        });\n        return gradient;\n    };\n    WatermarkCanvas.prototype.createRadialGradient = function (ctx) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2;\n        var gradient = ctx.createRadialGradient(getValue((_d = (_c = (_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.advancedStyle) === null || _b === void 0 ? void 0 : _b.params) === null || _c === void 0 ? void 0 : _c.radial) === null || _d === void 0 ? void 0 : _d.x0, this.recommendOptions.advancedStyleParams.radial.x0), getValue((_h = (_g = (_f = (_e = this.options) === null || _e === void 0 ? void 0 : _e.advancedStyle) === null || _f === void 0 ? void 0 : _f.params) === null || _g === void 0 ? void 0 : _g.radial) === null || _h === void 0 ? void 0 : _h.y0, this.recommendOptions.advancedStyleParams.radial.y0), getValue((_m = (_l = (_k = (_j = this.options) === null || _j === void 0 ? void 0 : _j.advancedStyle) === null || _k === void 0 ? void 0 : _k.params) === null || _l === void 0 ? void 0 : _l.radial) === null || _m === void 0 ? void 0 : _m.r0, this.recommendOptions.advancedStyleParams.radial.r0), getValue((_r = (_q = (_p = (_o = this.options) === null || _o === void 0 ? void 0 : _o.advancedStyle) === null || _p === void 0 ? void 0 : _p.params) === null || _q === void 0 ? void 0 : _q.radial) === null || _r === void 0 ? void 0 : _r.x1, this.recommendOptions.advancedStyleParams.radial.x1), getValue((_v = (_u = (_t = (_s = this.options) === null || _s === void 0 ? void 0 : _s.advancedStyle) === null || _t === void 0 ? void 0 : _t.params) === null || _u === void 0 ? void 0 : _u.radial) === null || _v === void 0 ? void 0 : _v.y1, this.recommendOptions.advancedStyleParams.radial.y1), getValue((_z = (_y = (_x = (_w = this.options) === null || _w === void 0 ? void 0 : _w.advancedStyle) === null || _x === void 0 ? void 0 : _x.params) === null || _y === void 0 ? void 0 : _y.radial) === null || _z === void 0 ? void 0 : _z.r1, this.recommendOptions.advancedStyleParams.radial.r1));\n        (_2 = (_1 = (_0 = this.options) === null || _0 === void 0 ? void 0 : _0.advancedStyle) === null || _1 === void 0 ? void 0 : _1.colorStops) === null || _2 === void 0 ? void 0 : _2.forEach(function (item) {\n            gradient.addColorStop(item.offset, item.color);\n        });\n        return gradient;\n    };\n    WatermarkCanvas.prototype.createPattern = function (ctx) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        return ctx.createPattern((_d = (_c = (_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.advancedStyle) === null || _b === void 0 ? void 0 : _b.params) === null || _c === void 0 ? void 0 : _c.pattern) === null || _d === void 0 ? void 0 : _d.image, ((_h = (_g = (_f = (_e = this.options) === null || _e === void 0 ? void 0 : _e.advancedStyle) === null || _f === void 0 ? void 0 : _f.params) === null || _g === void 0 ? void 0 : _g.pattern) === null || _h === void 0 ? void 0 : _h.repetition) || '');\n    };\n    WatermarkCanvas.prototype.setText = function (ctx, params) {\n        var methodName = 'fillText';\n        if (this.options.textType === 'stroke') {\n            methodName = 'strokeText';\n        }\n        ctx[methodName] && ctx[methodName](params.text, params.x, params.y, params.maxWidth);\n    };\n    WatermarkCanvas.prototype.drawText = function (ctx, resolve) {\n        this.setText(ctx, {\n            text: this.options.content,\n            x: 0,\n            y: 0 - this.recommendOptions.textLine.yOffsetValue,\n            maxWidth: this.options.textRowMaxWidth || this.options.width\n        });\n        resolve(ctx.canvas);\n    };\n    WatermarkCanvas.prototype.drawImage = function (ctx, resolve) {\n        var _this = this;\n        loadImage(this.options.image).then(function (image) {\n            var _a = _this.getImageRect(image), imageWidth = _a.width, imageHeight = _a.height;\n            var imagePosition = _this.getDrawImagePosition(imageWidth, imageHeight);\n            ctx.drawImage(image, imagePosition.x, imagePosition.y, imageWidth, imageHeight);\n            resolve(ctx.canvas);\n        });\n    };\n    WatermarkCanvas.prototype.drawMultiLineText = function (ctx, resolve) {\n        var _this = this;\n        // image.width = this.options.width\n        // image.height = this.options.height\n        // const element = createCustomContentSvg(context, this.options)\n        // image.src = convertSVGToImage(element)\n        // image.onload = () => {\n        //   context.translate(this.options.width / 2, this.options.height / 2)\n        //   context.rotate(this.options.rotate)\n        //   context.drawImage(\n        //     image,\n        //     -this.options.width / 2,\n        //     -this.options.height / 2,\n        //     context.canvas.width,\n        //     context.canvas.height\n        //   )\n        //   resolve(canvas)\n        // }\n        var lines = this.recommendOptions.textLine.data;\n        var yOffsetValue = this.recommendOptions.textLine.yOffsetValue;\n        lines.forEach(function (text, index) {\n            _this.setText(ctx, { text: text, x: 0, y: _this.options.lineHeight * index - yOffsetValue, maxWidth: _this.options.textRowMaxWidth || _this.options.width });\n        });\n        resolve(ctx.canvas);\n    };\n    WatermarkCanvas.prototype.drawRichText = function (ctx, resolve) {\n        return __awaiter(this, void 0, void 0, function () {\n            var obj;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, createCustomContentSVG(ctx, this.options)];\n                    case 1:\n                        obj = _a.sent();\n                        loadImage(convertSVGToImage(obj.element), obj.width, obj.height).then(function (image) {\n                            var imagePosition = _this.getDrawImagePosition(image.width, image.height);\n                            ctx.drawImage(image, imagePosition.x, imagePosition.y, image.width, image.height);\n                            resolve(ctx.canvas);\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    WatermarkCanvas.prototype.getImageRect = function (image) {\n        var rect = { width: this.options.imageWidth || 0, height: this.options.imageHeight || 0 };\n        switch (true) {\n            case rect.width !== 0 && rect.height === 0:\n                rect.height = rect.width * image.height / image.width;\n                break;\n            case rect.width === 0 && rect.height !== 0:\n                rect.width = rect.height * image.width / image.height;\n                break;\n            case rect.width === 0 && rect.height === 0:\n                rect.width = image.width;\n                rect.height = image.height;\n                break;\n        }\n        return rect;\n    };\n    WatermarkCanvas.prototype.getDrawImagePosition = function (imageWidth, imageHeight) {\n        var _a, _b;\n        var result = {\n            x: -imageWidth / 2,\n            y: -imageHeight / 2\n        };\n        switch (this.options.translatePlacement) {\n            case 'top':\n                result.x = -imageWidth / 2;\n                result.y = 0;\n                break;\n            case 'top-start':\n                result.x = 0;\n                result.y = 0;\n                break;\n            case 'top-end':\n                result.x = -imageWidth;\n                result.y = 0;\n                break;\n            case 'bottom':\n                result.x = -imageWidth / 2;\n                result.y = -imageHeight;\n                break;\n            case 'bottom-start':\n                result.x = 0;\n                result.y = -imageHeight;\n                break;\n            case 'bottom-end':\n                result.x = -imageWidth;\n                result.y = -imageHeight;\n                break;\n            case 'left':\n                result.x = 0;\n                result.y = -imageHeight / 2;\n                break;\n            case 'right':\n                result.x = -imageWidth;\n                result.y = -imageHeight / 2;\n                break;\n        }\n        !isUndefined((_a = this.props) === null || _a === void 0 ? void 0 : _a.translateX) && (result.x = 0);\n        !isUndefined((_b = this.props) === null || _b === void 0 ? void 0 : _b.translateY) && (result.y = 0);\n        return result;\n    };\n    return WatermarkCanvas;\n}());\n\nvar GridLayout = /** @class */ (function () {\n    function GridLayout(args, partialCanvas) {\n        var _a, _b, _c, _d;\n        this.options = args;\n        this.partialWidth = this.options.width;\n        this.partialHeight = this.options.height;\n        this.rows = ((_a = this.options.gridLayoutOptions) === null || _a === void 0 ? void 0 : _a.rows) || 1;\n        this.cols = ((_b = this.options.gridLayoutOptions) === null || _b === void 0 ? void 0 : _b.cols) || 1;\n        this.matrix = ((_c = this.options.gridLayoutOptions) === null || _c === void 0 ? void 0 : _c.matrix) || generateMatrix(this.rows, this.cols, 1);\n        this.gap = ((_d = this.options.gridLayoutOptions) === null || _d === void 0 ? void 0 : _d.gap) || [0, 0];\n        this.partialCanvas = partialCanvas;\n    }\n    GridLayout.prototype.draw = function () {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        var layoutCanvas = WatermarkCanvas.createCanvas(((_a = this.options.gridLayoutOptions) === null || _a === void 0 ? void 0 : _a.width) || (this.partialWidth * this.cols + this.gap[0] * this.cols), ((_b = this.options.gridLayoutOptions) === null || _b === void 0 ? void 0 : _b.height) || (this.partialHeight * this.rows + this.gap[1] * this.rows));\n        var layoutContext = layoutCanvas.getContext('2d');\n        if ((_c = this.options.gridLayoutOptions) === null || _c === void 0 ? void 0 : _c.backgroundImage) {\n            layoutContext === null || layoutContext === void 0 ? void 0 : layoutContext.drawImage((_d = this.options.gridLayoutOptions) === null || _d === void 0 ? void 0 : _d.backgroundImage, 0, 0, (_e = this.options.gridLayoutOptions) === null || _e === void 0 ? void 0 : _e.width, (_f = this.options.gridLayoutOptions) === null || _f === void 0 ? void 0 : _f.height);\n        }\n        for (var rowIndex = 0; rowIndex < this.rows; rowIndex++) {\n            for (var colIndex = 0; colIndex < this.cols; colIndex++) {\n                if (!((_h = (_g = this.matrix) === null || _g === void 0 ? void 0 : _g[rowIndex]) === null || _h === void 0 ? void 0 : _h[colIndex])) {\n                    continue;\n                }\n                layoutContext === null || layoutContext === void 0 ? void 0 : layoutContext.drawImage(this.partialCanvas, this.partialWidth * colIndex + this.gap[0] * colIndex, this.partialHeight * rowIndex + this.gap[1] * rowIndex, this.partialWidth, this.partialHeight);\n            }\n        }\n        return layoutCanvas;\n    };\n    return GridLayout;\n}());\n\nvar renderLayout = function (options, partialCanvas) {\n    switch (options.layout) {\n        case 'grid':\n            return new GridLayout(options, partialCanvas).draw();\n        default:\n            return partialCanvas;\n    }\n};\nvar generateBackgroundSize = function (options) {\n    var _a, _b, _c;\n    switch (options.layout) {\n        case 'grid':\n            {\n                var cols = ((_a = options.gridLayoutOptions) === null || _a === void 0 ? void 0 : _a.cols) || 1;\n                var rows = ((_b = options.gridLayoutOptions) === null || _b === void 0 ? void 0 : _b.rows) || 1;\n                var gap = ((_c = options.gridLayoutOptions) === null || _c === void 0 ? void 0 : _c.gap) || [0, 0];\n                return [\n                    options.width * cols + gap[0] * cols,\n                    options.height * rows + gap[1] * rows\n                ];\n            }\n        default:\n            return [\n                options.width,\n                options.height\n            ];\n    }\n};\n\n/**\n * Watermark class\n */\nvar Watermark = /** @class */ (function () {\n    /**\n     * Watermark constructor\n     * @param args - watermark args\n     */\n    function Watermark(args) {\n        if (args === void 0) { args = {}; }\n        this.parentElement = document.body;\n        this.isCreating = false;\n        this.props = args;\n        this.options = __assign(__assign({}, initialOptions), args);\n        this.changeParentElement(this.options.parent);\n        this.watermarkCanvas = new WatermarkCanvas(this.props, this.options);\n        protection(this.options.monitorProtection);\n    }\n    /**\n     * Change watermark options\n     * @param args\n     * @param mode\n     * @param redraw\n     */\n    Watermark.prototype.changeOptions = function () {\n        return __awaiter(this, arguments, void 0, function (args, mode, redraw) {\n            if (args === void 0) { args = {}; }\n            if (mode === void 0) { mode = 'overwrite'; }\n            if (redraw === void 0) { redraw = true; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.initConfigData(args, mode);\n                        protection(this.options.monitorProtection);\n                        if (!redraw) return [3 /*break*/, 2];\n                        this.remove();\n                        return [4 /*yield*/, this.create()];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Creating a watermark.\n     */\n    Watermark.prototype.create = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var firstDraw, image, watermarkInnerDom, parentElementType, backgroundSize;\n            var _a, _b, _c, _d, _e, _f, _g;\n            return __generator(this, function (_h) {\n                switch (_h.label) {\n                    case 0:\n                        if (this.isCreating) {\n                            return [2 /*return*/];\n                        }\n                        this.isCreating = true;\n                        if (!this.validateUnique()) {\n                            this.isCreating = false;\n                            return [2 /*return*/];\n                        }\n                        if (!this.validateContent()) {\n                            this.isCreating = false;\n                            return [2 /*return*/];\n                        }\n                        firstDraw = isUndefined(this.watermarkDom);\n                        return [4 /*yield*/, ((_a = this.watermarkCanvas) === null || _a === void 0 ? void 0 : _a.draw())];\n                    case 1:\n                        _h.sent();\n                        this.layoutCanvas = renderLayout(this.options, (_b = this.watermarkCanvas) === null || _b === void 0 ? void 0 : _b.getCanvas());\n                        image = convertImage(this.layoutCanvas);\n                        (_c = this.watermarkCanvas) === null || _c === void 0 ? void 0 : _c.clear();\n                        this.watermarkDom = document.createElement('div');\n                        watermarkInnerDom = document.createElement('div');\n                        this.watermarkDom.__WATERMARK__ = 'watermark';\n                        this.watermarkDom.__WATERMARK__INSTANCE__ = this;\n                        parentElementType = this.checkParentElementType();\n                        this.watermarkDom.style.cssText = \"\\n      z-index:\".concat(this.options.zIndex, \"!important;display:block!important;visibility:visible!important;transform:none!important;scale:none!important;\\n      \").concat(parentElementType === 'custom' ? 'top:0!important;bottom:0!important;left:0!important;right:0!important;height:100%!important;pointer-events:none!important;position:absolute!important;' : 'position:relative!important;', \"\\n    \");\n                        backgroundSize = generateBackgroundSize(this.options);\n                        watermarkInnerDom.style.cssText = \"\\n      display:block!important;visibility:visible!important;pointer-events:none;top:0;bottom:0;left:0;right:0;transform:none!important;scale:none!important;\\n      position:\".concat(parentElementType === 'root' ? 'fixed' : 'absolute', \"!important;-webkit-print-color-adjust:exact!important;width:100%!important;height:100%!important;\\n      z-index:\").concat(this.options.zIndex, \"!important;background-image:url(\").concat(image, \")!important;background-repeat:\").concat(this.options.backgroundRepeat, \"!important;\\n      background-size:\").concat(backgroundSize[0], \"px \").concat(backgroundSize[1], \"px!important;background-position:\").concat(this.options.backgroundPosition, \";\\n      \").concat(this.options.movable ? 'animation: 200s ease 0s infinite normal none running watermark !important;' : '', \"\\n    \");\n                        this.watermarkDom.appendChild(watermarkInnerDom);\n                        this.parentElement.appendChild(this.watermarkDom);\n                        if (this.options.mutationObserve) {\n                            try {\n                                this.bindMutationObserve();\n                            }\n                            catch (e) {\n                                (_e = (_d = this.options).onObserveError) === null || _e === void 0 ? void 0 : _e.call(_d);\n                            }\n                        }\n                        firstDraw && ((_g = (_f = this.options).onSuccess) === null || _g === void 0 ? void 0 : _g.call(_f));\n                        this.isCreating = false;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Delete this watermark.\n     */\n    Watermark.prototype.destroy = function () {\n        this.remove();\n        this.watermarkDom = undefined;\n    };\n    Watermark.prototype.check = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.parentElement.contains(this.watermarkDom)];\n            });\n        });\n    };\n    Watermark.prototype.remove = function () {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        (_b = (_a = this.options).onBeforeDestroy) === null || _b === void 0 ? void 0 : _b.call(_a);\n        (_c = this.observer) === null || _c === void 0 ? void 0 : _c.disconnect();\n        (_d = this.parentObserve) === null || _d === void 0 ? void 0 : _d.disconnect();\n        this.unbindCheckWatermarkElementEvent();\n        (_f = (_e = this.watermarkDom) === null || _e === void 0 ? void 0 : _e.parentNode) === null || _f === void 0 ? void 0 : _f.removeChild(this.watermarkDom);\n        (_h = (_g = this.options).onDestroyed) === null || _h === void 0 ? void 0 : _h.call(_g);\n    };\n    Watermark.prototype.initConfigData = function (args, mode) {\n        var _this = this;\n        if (mode === void 0) { mode = 'overwrite'; }\n        if (mode === 'append') {\n            Object.keys(args).forEach(function (key) {\n                _this.props && (_this.props[key] = args[key]);\n            });\n        }\n        else {\n            this.props = args;\n        }\n        this.options = __assign(__assign({}, initialOptions), this.props);\n        this.changeParentElement(this.options.parent);\n        this.watermarkCanvas = new WatermarkCanvas(this.props, this.options);\n    };\n    Watermark.prototype.changeParentElement = function (parent) {\n        if (typeof parent === 'string') {\n            var parentElement = document.querySelector(parent);\n            parentElement && (this.parentElement = parentElement);\n        }\n        else {\n            this.parentElement = parent;\n        }\n        if (!this.parentElement) {\n            console.error('[WatermarkJsPlus]: please pass a valid parent element.');\n        }\n    };\n    Watermark.prototype.validateUnique = function () {\n        var result = true;\n        Array.from(this.parentElement.childNodes).forEach(function (node) {\n            if (!result) {\n                return;\n            }\n            if (Object.hasOwnProperty.call(node, '__WATERMARK__')) {\n                result = false;\n                // throw new Error('duplicate watermark error')\n            }\n        });\n        return result;\n    };\n    Watermark.prototype.validateContent = function () {\n        switch (this.options.contentType) {\n            case 'image':\n                return Object.hasOwnProperty.call(this.options, 'image');\n            case 'multi-line-text':\n            case 'rich-text':\n            case 'text':\n                return this.options.content.length > 0;\n        }\n    };\n    Watermark.prototype.checkParentElementType = function () {\n        if (['html', 'body'].includes(this.parentElement.tagName.toLocaleLowerCase())) {\n            return 'root';\n        }\n        return 'custom';\n    };\n    Watermark.prototype.checkWatermarkElement = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this.parentElement.contains(this.watermarkDom)) return [3 /*break*/, 2];\n                        this.remove();\n                        return [4 /*yield*/, this.create()];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        this.bindCheckWatermarkElementEvent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Watermark.prototype.bindMutationObserve = function () {\n        var _this = this;\n        if (!this.watermarkDom) {\n            return;\n        }\n        this.bindCheckWatermarkElementEvent();\n        this.observer = new MutationObserver(function (mutationsList) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(mutationsList.length > 0)) return [3 /*break*/, 2];\n                        this.remove();\n                        return [4 /*yield*/, this.create()];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        }); });\n        this.observer.observe(this.watermarkDom, {\n            attributes: true, // 属性的变动\n            childList: true, // 子节点的变动（指新增，删除或者更改）\n            subtree: true, // 布尔值，表示是否将该观察器应用于该节点的所有后代节点。\n            characterData: true // 节点内容或节点文本的变动。\n        });\n        this.parentObserve = new MutationObserver(function (mutationsList) { return __awaiter(_this, void 0, void 0, function () {\n            var _i, mutationsList_1, item;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _i = 0, mutationsList_1 = mutationsList;\n                        _b.label = 1;\n                    case 1:\n                        if (!(_i < mutationsList_1.length)) return [3 /*break*/, 4];\n                        item = mutationsList_1[_i];\n                        if (!((item === null || item === void 0 ? void 0 : item.target) === this.watermarkDom ||\n                            ((_a = item === null || item === void 0 ? void 0 : item.removedNodes) === null || _a === void 0 ? void 0 : _a[0]) === this.watermarkDom ||\n                            (item.type === 'childList' && item.target === this.parentElement && item.target.lastChild !== this.watermarkDom))) return [3 /*break*/, 3];\n                        this.remove();\n                        return [4 /*yield*/, this.create()];\n                    case 2:\n                        _b.sent();\n                        _b.label = 3;\n                    case 3:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); });\n        this.parentObserve.observe(this.parentElement, {\n            attributes: true, // 属性的变动\n            childList: true, // 子节点的变动（指新增，删除或者更改）\n            subtree: true, // 布尔值，表示是否将该观察器应用于该节点的所有后代节点。\n            characterData: true // 节点内容或节点文本的变动。\n        });\n    };\n    Watermark.prototype.bindCheckWatermarkElementEvent = function () {\n        this.unbindCheckWatermarkElementEvent();\n        this.checkWatermarkElementRequestID = requestAnimationFrame(this.checkWatermarkElement.bind(this));\n    };\n    Watermark.prototype.unbindCheckWatermarkElementEvent = function () {\n        if (!isUndefined(this.checkWatermarkElementRequestID)) {\n            cancelAnimationFrame(this.checkWatermarkElementRequestID);\n        }\n    };\n    return Watermark;\n}());\n\n/**\n * BlindWatermark class\n */\nvar BlindWatermark = /** @class */ (function (_super) {\n    __extends(BlindWatermark, _super);\n    /**\n     * BlindWatermark constructor\n     * @param props - blind watermark options\n     */\n    function BlindWatermark(props) {\n        if (props === void 0) { props = {}; }\n        var defaultProps = {\n            globalAlpha: 0.005,\n            mode: 'blind'\n        };\n        return _super.call(this, __assign(__assign({}, props), defaultProps)) || this;\n    }\n    /**\n     * Decode blind watermark.\n     * @param props - decode options\n     */\n    BlindWatermark.decode = function (props) {\n        var _a = props.url, url = _a === void 0 ? '' : _a, _b = props.fillColor, fillColor = _b === void 0 ? '#000' : _b, _c = props.compositeOperation, compositeOperation = _c === void 0 ? 'color-burn' : _c, _d = props.mode, mode = _d === void 0 ? 'canvas' : _d, _e = props.compositeTimes, compositeTimes = _e === void 0 ? 3 : _e, onSuccess = props.onSuccess;\n        if (!url) {\n            return;\n        }\n        if (mode === 'canvas') {\n            var img_1 = new Image();\n            img_1.src = url;\n            img_1.addEventListener('load', function () {\n                var width = img_1.width, height = img_1.height;\n                var canvas = WatermarkCanvas.createCanvas(width, height);\n                var ctx = canvas.getContext('2d');\n                if (!ctx) {\n                    throw new Error('get context error');\n                }\n                ctx.drawImage(img_1, 0, 0, width, height);\n                ctx.globalCompositeOperation = compositeOperation;\n                ctx.fillStyle = fillColor;\n                for (var i = 0; i < compositeTimes; i++) {\n                    ctx.fillRect(0, 0, width, height);\n                }\n                var resultImage = convertImage(canvas);\n                if (isFunction(onSuccess)) {\n                    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(resultImage);\n                }\n            });\n        }\n    };\n    return BlindWatermark;\n}(Watermark));\n\n/**\n * ImageWatermark class\n */\nvar ImageWatermark = /** @class */ (function () {\n    /**\n     * ImageWatermark constructor\n     * @param args - image watermark args\n     */\n    function ImageWatermark(args) {\n        if (args === void 0) { args = {}; }\n        var _a;\n        this.drew = false;\n        this.props = args;\n        this.options = __assign(__assign({}, initialOptions), args);\n        this.watermarkCanvas = new WatermarkCanvas(this.props, this.options);\n        this.originalSrc = (_a = this.props.dom) === null || _a === void 0 ? void 0 : _a.src;\n        this.backgroundImage = this.getBackgroundImage();\n    }\n    ImageWatermark.prototype.create = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, _b, _c, _d, _e;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0:\n                        if (this.drew) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, ((_a = this.watermarkCanvas) === null || _a === void 0 ? void 0 : _a.draw())];\n                    case 1:\n                        _f.sent();\n                        this.options.layout = 'grid';\n                        this.options.gridLayoutOptions = __assign(__assign({}, this.options.gridLayoutOptions), { width: (_b = this.backgroundImage) === null || _b === void 0 ? void 0 : _b.width, height: (_c = this.backgroundImage) === null || _c === void 0 ? void 0 : _c.height, backgroundImage: this.backgroundImage });\n                        this.layoutCanvas = renderLayout(this.options, (_d = this.watermarkCanvas) === null || _d === void 0 ? void 0 : _d.getCanvas());\n                        this.options.dom.src = convertImage(this.layoutCanvas);\n                        (_e = this.watermarkCanvas) === null || _e === void 0 ? void 0 : _e.clear();\n                        this.drew = true;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ImageWatermark.prototype.destroy = function () {\n        this.options.dom.src = this.originalSrc;\n        this.drew = false;\n    };\n    ImageWatermark.prototype.getBackgroundImage = function () {\n        if (this.options.dom) {\n            return this.options.dom;\n        }\n    };\n    return ImageWatermark;\n}());\n\nexport { BlindWatermark, ImageWatermark, Watermark };\n//# sourceMappingURL=index.esm.js.map\n","import type { WatermarkOptions } from 'watermark-js-plus'\nimport { Watermark } from 'watermark-js-plus'\nimport useSettingsStore from './settings'\nimport useUserStore from './user'\n\nconst useWatermarkStore = defineStore(\n  // 唯一ID\n  'watermark',\n  () => {\n    const settingsStore = useSettingsStore()\n    const userStore = useUserStore()\n\n    const customSettings = ref<Partial<WatermarkOptions>>()\n    const settings = computed({\n      get() {\n        return Object.assign(\n          {\n            contentType: 'multi-line-text',\n            content: `Fantastic-admin\\n当前用户：${userStore.account}`,\n            fontColor: settingsStore.currentColorScheme === 'light' ? '#000' : '#fff',\n            globalAlpha: 0.2,\n            width: 200,\n            height: 200,\n            // layout: 'grid',\n            // gridLayoutOptions: {\n            //   rows: 2,\n            //   cols: 2,\n            //   gap: [10, 10],\n            //   matrix: [[1, 0], [0, 1]],\n            // },\n          } as Partial<WatermarkOptions>,\n          customSettings.value,\n        )\n      },\n      set(val) {\n        update(val)\n      },\n    })\n\n    const watermark = new Watermark(settings.value)\n\n    watch(settings, async () => {\n      if (settingsStore.settings.app.enableWatermark && await watermark.check()) {\n        watermark.changeOptions(settings.value)\n      }\n    }, {\n      deep: true,\n    })\n\n    watch(() => settingsStore.settings.app.enableWatermark, (val) => {\n      if (val) {\n        watermark.create()\n      }\n      else {\n        watermark.destroy()\n      }\n    }, {\n      immediate: true,\n    })\n\n    watch(() => settingsStore.currentColorScheme, async () => {\n      if (settingsStore.settings.app.enableWatermark && await watermark.check()) {\n        watermark.changeOptions(settings.value)\n      }\n    })\n\n    // 更新水印设置\n    function update(config: Partial<WatermarkOptions> = {}) {\n      customSettings.value = config\n    }\n\n    return {\n      update,\n    }\n  },\n)\n\nexport default useWatermarkStore\n","<script setup lang=\"ts\">\nimport useKeepAliveStore from '@/store/modules/keepAlive'\nimport useMenuStore from '@/store/modules/menu'\nimport useSettingsStore from '@/store/modules/settings'\nimport useWatermarkStore from '@/store/modules/watermark'\nimport eventBus from '@/utils/eventBus'\nimport { useTimeoutFn } from '@vueuse/core'\nimport hotkeys from 'hotkeys-js'\nimport AppSetting from './components/AppSetting/index.vue'\nimport BackTop from './components/BackTop/index.vue'\nimport Copyright from './components/Copyright/index.vue'\nimport Header from './components/Header/index.vue'\nimport HotkeysIntro from './components/HotkeysIntro/index.vue'\nimport MainSidebar from './components/MainSidebar/index.vue'\nimport Preferences from './components/Preferences/index.vue'\nimport Search from './components/Search/index.vue'\nimport SubMainSidebar from './components/SubMainSidebar/index.vue'\nimport SubSidebar from './components/SubSidebar/index.vue'\nimport Topbar from './components/Topbar/index.vue'\nimport IframeView from './components/views/iframe.vue'\nimport LinkView from './components/views/link.vue'\n\ndefineOptions({\n  name: 'Layout',\n})\n\nconst routeInfo = useRoute()\n\nconst settingsStore = useSettingsStore()\nconst keepAliveStore = useKeepAliveStore()\nconst menuStore = useMenuStore()\nuseWatermarkStore()\n\nconst mainPage = useMainPage()\nconst menu = useMenu()\n\n// 侧边栏主导航当前实际宽度\nconst mainSidebarActualWidth = computed(() => {\n  let actualWidth = Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue('--g-main-sidebar-width'))\n  if (settingsStore.settings.menu.mode === 'single' || (['head', 'only-head', 'head-panel'].includes(settingsStore.settings.menu.mode) && settingsStore.mode !== 'mobile')) {\n    actualWidth = 0\n  }\n  return `${actualWidth}px`\n})\n\n// 侧边栏次导航当前实际宽度\nconst subSidebarActualWidth = computed(() => {\n  let actualWidth = Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue('--g-sub-sidebar-width'))\n  if (settingsStore.settings.menu.subMenuCollapse && settingsStore.mode !== 'mobile') {\n    actualWidth = Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue('--g-sub-sidebar-collapse-width'))\n  }\n  if (['only-side', 'only-head', 'side-panel', 'head-panel'].includes(settingsStore.settings.menu.mode) && settingsStore.mode !== 'mobile') {\n    actualWidth = 0\n  }\n  if (menuStore.sidebarMenus.every(item => item.meta?.menu === false) || menuStore.sidebarMenus[menuStore.subActived]?.children?.every(item => item.meta?.menu === false)) {\n    actualWidth = 0\n  }\n  return `${actualWidth}px`\n})\n\nconst subMainSidebarActualHeight = computed(() => {\n  let actualHeight = Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue('--g-sub-main-sidebar-height'))\n  if (['side', 'head', 'single', 'only-side', 'only-head', 'side-panel', 'head-panel'].includes(settingsStore.settings.menu.mode)) {\n    actualHeight = 0\n  }\n  return `${actualHeight}px`\n})\n\nconst isIframe = computed(() => !!routeInfo.meta.iframe)\nconst isLink = computed(() => !!routeInfo.meta.link)\n\nwatch(() => settingsStore.settings.menu.subMenuCollapse, (val) => {\n  if (settingsStore.mode === 'mobile') {\n    if (!val) {\n      document.body.classList.add('overflow-hidden')\n    }\n    else {\n      document.body.classList.remove('overflow-hidden')\n    }\n  }\n})\n\nwatch(() => routeInfo.path, () => {\n  if (settingsStore.mode === 'mobile') {\n    settingsStore.$patch((state) => {\n      state.settings.menu.subMenuCollapse = true\n    })\n  }\n})\n\nonMounted(() => {\n  hotkeys('f5', (e) => {\n    if (settingsStore.settings.toolbar.pageReload) {\n      e.preventDefault()\n      mainPage.reload()\n    }\n  })\n  hotkeys('alt+`', (e) => {\n    if (settingsStore.settings.menu.enableHotkeys) {\n      e.preventDefault()\n      menu.switchTo(menuStore.actived + 1 < menuStore.allMenus.length ? menuStore.actived + 1 : 0)\n    }\n  })\n  hotkeys('alt+up,alt+down', (e, handle) => {\n    e.preventDefault()\n    switch (handle.key) {\n      case 'alt+up':\n        mainPage.maximize(true)\n        break\n      case 'alt+down':\n        mainPage.maximize(false)\n        break\n    }\n  })\n})\nonUnmounted(() => {\n  hotkeys.unbind('f5')\n  hotkeys.unbind('alt+`')\n  hotkeys.unbind('alt+up,alt+down')\n})\n\nlet timeout: (() => void) | undefined\nfunction handleMouseenter() {\n  timeout?.()\n  settingsStore.setHoverSidebar(true)\n}\nfunction handleMouseleave() {\n  timeout?.()\n  ;({ stop: timeout } = useTimeoutFn(() => {\n    settingsStore.setHoverSidebar(false)\n  }, 300))\n}\n\nconst enableAppSetting = import.meta.env.VITE_APP_SETTING === 'true'\n</script>\n\n<template>\n  <div\n    class=\"layout\" :style=\"{\n      '--g-main-sidebar-actual-width': mainSidebarActualWidth,\n      '--g-sub-sidebar-actual-width': subSidebarActualWidth,\n      '--g-sub-main-sidebar-actual-height': subMainSidebarActualHeight,\n    }\"\n  >\n    <div id=\"app-main\" :class=\"{ 'main-page-maximize': settingsStore.mainPageMaximizeStatus }\">\n      <Header />\n      <div class=\"wrapper\">\n        <div class=\"sidebar-container\" :class=\"{ show: settingsStore.mode === 'mobile' && !settingsStore.settings.menu.subMenuCollapse }\" @mouseenter=\"handleMouseenter\" @mouseleave=\"handleMouseleave\">\n          <MainSidebar />\n          <SubSidebar />\n        </div>\n        <div class=\"sidebar-mask\" :class=\"{ show: settingsStore.mode === 'mobile' && !settingsStore.settings.menu.subMenuCollapse }\" @click=\"settingsStore.toggleSidebarCollapse()\" />\n        <SubMainSidebar />\n        <div class=\"main-container\" :style=\"{ 'padding-bottom': routeInfo.meta.paddingBottom }\">\n          <Topbar />\n          <div class=\"main\">\n            <div v-show=\"settingsStore.mainPageMaximizeStatus\" class=\"exit-main-page-maximize\" @click=\"settingsStore.setMainPageMaximize()\">\n              <SvgIcon name=\"i-ri:logout-box-line\" />\n            </div>\n            <RouterView v-slot=\"{ Component, route }\">\n              <Transition :name=\"settingsStore.settings.mainPage.enableTransition ? settingsStore.settings.mainPage.transitionMode : ''\" mode=\"out-in\">\n                <KeepAlive :include=\"keepAliveStore.list\">\n                  <component :is=\"Component\" v-show=\"!(isIframe || isLink)\" :key=\"route.fullPath\" />\n                </KeepAlive>\n              </Transition>\n            </RouterView>\n            <IframeView v-show=\"isIframe && !isLink\" />\n            <LinkView v-if=\"isLink\" />\n          </div>\n          <Copyright />\n        </div>\n      </div>\n    </div>\n    <Search />\n    <Preferences v-if=\"settingsStore.settings.userPreferences.enable\" />\n    <HotkeysIntro />\n    <template v-if=\"enableAppSetting\">\n      <div class=\"app-setting\" @click=\"eventBus.emit('global-app-setting-toggle')\">\n        <SvgIcon name=\"i-uiw:setting-o\" class=\"icon\" />\n      </div>\n      <AppSetting />\n    </template>\n    <BackTop />\n  </div>\n</template>\n\n<style scoped>\n[data-app-width-mode=\"adaption\"] {\n  #app-main {\n    width: 100%;\n  }\n}\n\n[data-app-width-mode=\"adaption-min-width\"] {\n  #app-main {\n    width: max(var(--g-app-width), 100%);\n  }\n}\n\n[data-app-width-mode=\"center\"] {\n  #app-main {\n    width: var(--g-app-width);\n  }\n}\n\n[data-app-width-mode=\"center-max-width\"] {\n  #app-main {\n    width: min(var(--g-app-width), 100%);\n  }\n}\n\n[data-mode=\"mobile\"] {\n  #app-main {\n    width: 100%;\n  }\n\n  .sidebar-container {\n    transform: translateX(calc((var(--g-main-sidebar-width) + var(--g-sub-sidebar-width)) * -1));\n\n    [dir=\"rtl\"] & {\n      transform: translateX(calc(var(--g-main-sidebar-width) + var(--g-sub-sidebar-width)));\n    }\n\n    &.show {\n      transform: translateX(0);\n    }\n  }\n\n  .main-container {\n    margin-inline-start: 0 !important;\n  }\n\n  &[data-menu-mode=\"single\"] {\n    .sidebar-container {\n      transform: translateX(calc(var(--g-sub-sidebar-width) * -1));\n\n      [dir=\"rtl\"] & {\n        transform: translateX(var(--g-sub-sidebar-width));\n      }\n\n      &.show {\n        transform: translateX(0);\n      }\n    }\n  }\n}\n\n.layout {\n  height: 100%;\n}\n\n#app-main {\n  height: 100%;\n  margin: 0 auto;\n\n  /* 当前标签页全屏 */\n  &.main-page-maximize {\n    header,\n    .sidebar-container {\n      display: none;\n    }\n\n    .wrapper {\n      padding-top: 0;\n\n      .main-container {\n        margin-inline-start: 0;\n\n        .topbar-container {\n          display: none;\n        }\n\n        .main {\n          margin: 0;\n        }\n      }\n    }\n\n    :deep([data-fixed-calc-width]) {\n      width: 100%;\n      transform: translateX(-50%);\n    }\n  }\n}\n\n.wrapper {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  transition: padding-top 0.3s;\n\n  .sidebar-container {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    z-index: 1010;\n    display: flex;\n    width: calc(var(--g-main-sidebar-actual-width) + var(--g-sub-sidebar-actual-width));\n    box-shadow: -1px 0 0 0 var(--g-border-color), 1px 0 0 0 var(--g-border-color);\n    transition: width 0.3s, transform 0.3s, box-shadow 0.3s, top 0.3s;\n\n    &:has(> .main-sidebar-container.main-sidebar-enter-active),\n    &:has(> .main-sidebar-container.main-sidebar-leave-active) {\n      overflow: hidden;\n    }\n  }\n\n  .sidebar-mask {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 1000;\n    width: 100%;\n    height: 100%;\n    visibility: hidden;\n    background-image: radial-gradient(transparent 1px, rgb(0 0 0 / 30%) 1px);\n    background-size: 4px 4px;\n    backdrop-filter: saturate(50%) blur(4px);\n    opacity: 0;\n    transition: all 0.2s;\n\n    &.show {\n      visibility: visible;\n      opacity: 1;\n    }\n  }\n\n  .main-sidebar-container:not(.main-sidebar-leave-active) + .sub-sidebar-container {\n    inset-inline-start: var(--g-main-sidebar-width);\n  }\n\n  .main-container {\n    display: flex;\n    flex-direction: column;\n    min-height: 100%;\n    padding-top: var(--g-sub-main-sidebar-actual-height);\n    margin-inline-start: calc(var(--g-main-sidebar-actual-width) + var(--g-sub-sidebar-actual-width));\n    background-color: var(--g-bg);\n    box-shadow: -1px 0 0 0 var(--g-border-color), 1px 0 0 0 var(--g-border-color);\n    transition: margin-inline-start 0.3s, background-color 0.3s, box-shadow 0.3s;\n\n    .main {\n      position: relative;\n      flex: auto;\n      height: 100%;\n      overflow: hidden;\n      transition: 0.3s;\n\n      .exit-main-page-maximize {\n        --uno: bg-stone-7 dark-bg-stone-3 text-stone-3 dark-text-stone-7 op-50 hover-op-100 transition-opacity;\n\n        position: fixed;\n        top: -40px;\n        right: -40px;\n        z-index: 1000;\n        width: 80px;\n        height: 80px;\n        cursor: pointer;\n        border-radius: 50%;\n\n        i {\n          position: absolute;\n          bottom: 16px;\n          left: 16px;\n        }\n      }\n    }\n\n    .topbar-container.has-tabbar + .main {\n      margin: var(--g-tabbar-height) 0 0;\n    }\n\n    .topbar-container.has-toolbar + .main {\n      margin: var(--g-toolbar-height) 0 0;\n    }\n\n    .topbar-container.has-tabbar.has-toolbar + .main {\n      margin: calc(var(--g-tabbar-height) + var(--g-toolbar-height)) 0 0;\n    }\n  }\n}\n\nheader:not(.header-leave-active) + .wrapper {\n  padding-top: var(--g-header-height);\n\n  .sidebar-container {\n    top: var(--g-header-height);\n\n    :deep(.sub-sidebar-container) .sidebar-logo {\n      display: none;\n    }\n  }\n\n  .main-container {\n    .topbar-container {\n      top: calc(var(--g-sub-main-sidebar-actual-height) + var(--g-header-height));\n    }\n  }\n}\n\n.app-setting {\n  --uno: text-white dark-text-dark bg-ui-primary;\n\n  position: fixed;\n  inset-inline-end: 0;\n  top: calc(50% + 250px);\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 50px;\n  height: 50px;\n  font-size: 24px;\n  cursor: pointer;\n  border-radius: 5px 0 0 5px;\n\n  [dir=\"rtl\"] & {\n    border-radius: 0 5px 5px 0;\n  }\n\n  .icon {\n    animation: rotate 5s linear infinite;\n  }\n\n  @keyframes rotate {\n    from {\n      transform: rotate(0deg);\n    }\n\n    to {\n      transform: rotate(360deg);\n    }\n  }\n}\n\n/* 主内容区动画 */\n.fade-enter-active,\n.slide-left-enter-active,\n.slide-right-enter-active,\n.slide-top-enter-active,\n.slide-bottom-enter-active {\n  transition: 0.2s;\n}\n\n.fade-leave-active,\n.slide-left-leave-active,\n.slide-right-leave-active,\n.slide-top-leave-active,\n.slide-bottom-leave-active {\n  transition: 0.15s;\n}\n\n.fade-enter-from {\n  opacity: 0;\n}\n\n.fade-leave-to {\n  opacity: 0;\n}\n\n.slide-left-enter-from {\n  margin-left: 20px;\n  opacity: 0;\n}\n\n.slide-left-leave-to {\n  margin-left: -20px;\n  opacity: 0;\n}\n\n.slide-right-enter-from {\n  margin-left: -20px;\n  opacity: 0;\n}\n\n.slide-right-leave-to {\n  margin-left: 20px;\n  opacity: 0;\n}\n\n.slide-top-enter-from {\n  margin-top: 20px;\n  opacity: 0;\n}\n\n.slide-top-leave-to {\n  margin-top: -20px;\n  opacity: 0;\n}\n\n.slide-bottom-enter-from {\n  margin-top: -20px;\n  opacity: 0;\n}\n\n.slide-bottom-leave-to {\n  margin-top: 20px;\n  opacity: 0;\n}\n</style>\n"],"names":["styleInject","css","ref","insertAt","head","style","css_248z","extendStatics","d","b","p","__extends","__","__assign","s","n","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","reject","fulfilled","step","e","rejected","result","__generator","body","_","t","f","y","g","verb","v","op","convertImage","canvas","isFunction","isUndefined","isString","createSVGElement","tagName","attrs","namespaceURI","element","attr","getMultiLineData","ctx","text","maxWidth","str","word","i","len","createCustomContentSVG","options","svgElement","bodyElement","rect","rectWidth","rectHeight","width","height","foreignObjectElement","_a","_b","convertImgToBase64","imgElements","_loop_1","_i","img","src","response","blob_1","imgData","error_1","_c","reader","convertSVGToImage","svg","richContent","getValue","v1","v2","loadImage","url","image","generateMatrix","rows","columns","initialOptions","generateRecommendOptions","args","translateX","translateY","textBaseline","textAlign","protection","need","WatermarkCanvas","ratio","_this","propName","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","gradient","item","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","_1","_2","params","methodName","imageWidth","imageHeight","imagePosition","lines","yOffsetValue","index","obj","GridLayout","partialCanvas","layoutCanvas","layoutContext","rowIndex","colIndex","renderLayout","generateBackgroundSize","cols","gap","Watermark","mode","redraw","firstDraw","watermarkInnerDom","parentElementType","backgroundSize","key","parent","parentElement","node","mutationsList","mutationsList_1","_super","BlindWatermark","props","defaultProps","fillColor","compositeOperation","compositeTimes","onSuccess","img_1","resultImage","useWatermarkStore","defineStore","settingsStore","useSettingsStore","userStore","useUserStore","customSettings","settings","computed","val","update","watermark","watch","config","routeInfo","useRoute","keepAliveStore","useKeepAliveStore","menuStore","useMenuStore","mainPage","useMainPage","menu","useMenu","mainSidebarActualWidth","actualWidth","subSidebarActualWidth","subMainSidebarActualHeight","actualHeight","isIframe","isLink","state","onMounted","hotkeys","handle","onUnmounted","timeout","handleMouseenter","handleMouseleave","useTimeoutFn"],"mappings":"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","x_google_ignoreList":[0]}