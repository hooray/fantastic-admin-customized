{"version":3,"file":"rightSide.vue_vue_type_script_setup_true_lang-wreTBZIW.js","sources":["../../src/layouts/components/Topbar/Toolbar/rightSide.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport useSettingsStore from '@/store/modules/settings'\nimport useUserStore from '@/store/modules/user'\nimport eventBus from '@/utils/eventBus'\nimport { useI18n } from 'vue-i18n'\nimport Tools from './tools.vue'\n\ndefineOptions({\n  name: 'ToolbarRightSide',\n})\n\nconst router = useRouter()\n\nconst settingsStore = useSettingsStore()\nconst userStore = useUserStore()\n\nconst { t } = useI18n()\nconst { generateI18nTitle } = useMenu()\n\nconst avatarError = ref(false)\nwatch(() => userStore.avatar, () => {\n  if (avatarError.value) {\n    avatarError.value = false\n  }\n})\n</script>\n\n<template>\n  <div class=\"flex items-center\">\n    <Tools mode=\"right-side\" />\n    <HDropdownMenu\n      :items=\"[\n        [\n          { label: generateI18nTitle(settingsStore.settings.home.title), handle: () => router.push({ path: settingsStore.settings.home.fullPath }), hide: !settingsStore.settings.home.enable },\n          { label: t('app.preferences'), handle: () => eventBus.emit('global-preferences-toggle'), hide: !settingsStore.settings.userPreferences.enable },\n        ],\n        [\n          { label: t('app.hotkeys'), handle: () => eventBus.emit('global-hotkeys-intro-toggle'), hide: settingsStore.mode !== 'pc' },\n        ],\n        [\n          { label: t('app.logout'), handle: () => userStore.logout(settingsStore.settings.home.fullPath) },\n        ],\n      ]\" class=\"flex-center cursor-pointer px-2\"\n    >\n      <div class=\"flex-center gap-1\">\n        <img v-if=\"userStore.avatar && !avatarError\" :src=\"userStore.avatar\" :onerror=\"() => (avatarError = true)\" class=\"h-[24px] w-[24px] rounded-full\">\n        <SvgIcon v-else name=\"i-carbon:user-avatar-filled-alt\" :size=\"24\" class=\"text-gray-400\" />\n        {{ userStore.account }}\n        <SvgIcon name=\"i-ep:caret-bottom\" />\n      </div>\n    </HDropdownMenu>\n  </div>\n</template>\n"],"names":["router","useRouter","settingsStore","useSettingsStore","userStore","useUserStore","t","useI18n","generateI18nTitle","useMenu","avatarError","ref","watch"],"mappings":"wYAWA,MAAMA,EAASC,IAETC,EAAgBC,IAChBC,EAAYC,IAEZ,CAAE,EAAAC,GAAMC,IACR,CAAE,kBAAAC,GAAsBC,IAExBC,EAAcC,EAAI,EAAK,EACvB,OAAAC,EAAA,IAAMR,EAAU,OAAQ,IAAM,CAC9BM,EAAY,QACdA,EAAY,MAAQ,GACtB,CACD"}