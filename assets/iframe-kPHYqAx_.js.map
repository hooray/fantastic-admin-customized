{"version":3,"file":"iframe-kPHYqAx_.js","sources":["../../src/layouts/components/views/iframe.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport useIframeStore from '@/store/modules/iframe'\nimport useSettingsStore from '@/store/modules/settings'\n\ndefineOptions({\n  name: 'IframeView',\n})\n\nconst route = useRoute()\n\nconst settingsStore = useSettingsStore()\nconst iframeStore = useIframeStore()\nconst { setCustomTitle } = useMainPage()\nconst { generateI18nTitle } = useMenu()\n\nconst iframeRef = useTemplateRef<HTMLIFrameElement[]>('iframeRef')\n\nwatch(() => route.fullPath, (val) => {\n  nextTick(() => {\n    iframeRef.value?.forEach((item: HTMLIFrameElement) => {\n      if (item.dataset.path === val) {\n        const title = iframeStore.openedList.find(i => i.path === val)?.title\n        title && setCustomTitle(generateI18nTitle(title))\n        item.onload = () => {\n          iframeStore.closeLoading(val)\n        }\n      }\n    })\n  })\n}, {\n  immediate: true,\n})\n</script>\n\n<template>\n  <div class=\"iframe-view absolute left-0 top-0 h-full w-full flex flex-col\">\n    <div v-for=\"item in iframeStore.openedList\" :key=\"item.path\" class=\"absolute left-0 top-0 h-full w-full flex flex-col\" :class=\"{ 'z-1': route.fullPath === item.path }\">\n      <Transition :name=\"settingsStore.settings.mainPage.enableTransition ? settingsStore.settings.mainPage.transitionMode : ''\" mode=\"out-in\" appear>\n        <iframe v-show=\"route.fullPath === item.path\" ref=\"iframeRef\" :data-path=\"item.path\" :src=\"item.src\" frameborder=\"0\" class=\"h-full w-full flex-1\" />\n      </Transition>\n      <div v-show=\"item.isLoading\" class=\"absolute left-0 top-0 h-full w-full flex-center bg-stone-2/75 dark-bg-stone-8/75\">\n        <SvgIcon name=\"i-line-md:loading-twotone-loop\" :size=\"36\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.fade-enter-active,\n.slide-left-enter-active,\n.slide-right-enter-active,\n.slide-top-enter-active,\n.slide-bottom-enter-active {\n  transition: 0.4s;\n}\n\n.fade-leave-active,\n.slide-left-leave-active,\n.slide-right-leave-active,\n.slide-top-leave-active,\n.slide-bottom-leave-active {\n  transition: 0.3s;\n}\n\n.fade-enter-from {\n  opacity: 0;\n}\n\n.fade-leave-to {\n  opacity: 0;\n}\n\n.slide-left-enter-from {\n  margin-left: 20px;\n  opacity: 0;\n}\n\n.slide-left-leave-to {\n  margin-left: -20px;\n  opacity: 0;\n}\n\n.slide-right-enter-from {\n  margin-left: -20px;\n  opacity: 0;\n}\n\n.slide-right-leave-to {\n  margin-left: 20px;\n  opacity: 0;\n}\n\n.slide-top-enter-from {\n  margin-top: 20px;\n  opacity: 0;\n}\n\n.slide-top-leave-to {\n  margin-top: -20px;\n  opacity: 0;\n}\n\n.slide-bottom-enter-from {\n  margin-top: -20px;\n  opacity: 0;\n}\n\n.slide-bottom-leave-to {\n  margin-top: 20px;\n  opacity: 0;\n}\n</style>\n"],"names":["route","useRoute","settingsStore","useSettingsStore","iframeStore","useIframeStore","setCustomTitle","useMainPage","generateI18nTitle","useMenu","iframeRef","useTemplateRef","watch","val","nextTick","_a","item","title","i"],"mappings":"8fAQA,MAAMA,EAAQC,IAERC,EAAgBC,IAChBC,EAAcC,IACd,CAAE,eAAAC,GAAmBC,IACrB,CAAE,kBAAAC,GAAsBC,IAExBC,EAAYC,EAAoC,WAAW,EAEjE,OAAAC,EAAM,IAAMZ,EAAM,SAAWa,GAAQ,CACnCC,EAAS,IAAM,QACHC,EAAAL,EAAA,QAAA,MAAAK,EAAO,QAASC,GAA4B,OAChD,GAAAA,EAAK,QAAQ,OAASH,EAAK,CACvB,MAAAI,GAAQF,EAAAX,EAAY,WAAW,QAAUc,EAAE,OAASL,CAAG,IAA/C,YAAAE,EAAkD,MACvDE,GAAAX,EAAeE,EAAkBS,CAAK,CAAC,EAChDD,EAAK,OAAS,IAAM,CAClBZ,EAAY,aAAaS,CAAG,CAAA,CAEhC,CAAA,EACD,CACF,CAAA,EACA,CACD,UAAW,EAAA,CACZ"}